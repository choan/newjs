<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: index.txt</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>index.txt</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>website/index.txt
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Fri Feb 15 11:33:42 +1000 2008</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
h1. JavaScript Project Generator
</p>
<p>
h1. &amp;x2192; &#8216;newjs&#8216;
</p>
<p>
h2. What
</p>
<p>
A simple command-line tool to create the folders and helper files for a new
JavaScript project/library. As a bonus, you can quickly create a website to
promote your project.
</p>
<p>
When you start a new JavaScript library, how do you layout the source
files, the tests, the distribution files? Do you have support scripts to
generate distributions from source files? Run your JavaScript unit tests?
Generators to create new unit test HTML files?
</p>
<p>
*No? Me neither*, so I created the JavaScript Project Generator.
</p>
<p>
Once <tt>newjs</tt> has finished helping you write your source libraries,
write test HTML files, providing autotesting scripts to make TDD a piece of
cake, it finally helps you bundle all your source files into a single
JavaScript file for distribution.
</p>
<p>
What a nice helpful tool it is!
</p>
<p>
h2. Installing
</p>
<p>
Installation and maintenance of generated JavaScript projects requires the
installation of &quot;Ruby&quot;:<a
href="http://www.ruby-lang.org">www.ruby-lang.org</a>/ and
&quot;RubyGems&quot;:<a href="http://rubygems.org">rubygems.org</a>/.
</p>
<p>
The command-line application <tt>newjs</tt> is installed as below, for any
operating system (except the &#8216;sudo&#8217; part - use as necessary):
</p>
<p>
&lt;pre&gt;sudo gem install newjs&lt;/pre&gt;
</p>
<p>
h2. Getting started
</p>
<p>
To kick-off your new project/library, run the command-line app
<tt>newjs</tt>:
</p>
<p>
&lt;pre&gt;$ newjs mylib
</p>
<pre>
        create  config
        create  lib
        create  src
        create  script
        create  tasks
        create  test/assets
        create  test/assets/unittest.css
        create  test/assets/unittest.js
        create  test/assets/prototype.js
        create  tasks/javascript_test_autotest_tasks.rake
        create  tasks/environment.rake
        create  config/javascript_test_autotest.yml.sample
        create  lib/protodoc.rb
        create  README.txt
        create  Rakefile
        create  History.txt
        create  License.txt
        create  src/HEADER
        create  src/mylib.js
        create  script/rstakeout
        create  script/js_autotest
    dependency  install_rubigen_scripts
        exists    script
        create    script/generate
        create    script/destroy
</pre>
<p>
&lt;/pre&gt;
</p>
<p>
Look at all that!
</p>
<p>
Unit testing uses the <tt>unittest.js</tt> library developed within
&quot;prototypejs&quot;:<a
href="http://www.prototypejs.org">www.prototypejs.org</a>/. It should also
support JavaScript development using any non-prototype.js libraries.
</p>
<p>
Your raw, unconcatenated library/source files go in <tt>src/</tt>
</p>
<p>
Your unit test HTML files, go in <tt>test/</tt> (see test generator below).
</p>
<p>
When you&#8216;ve got a new version to release, edit <tt>Rakefile</tt> and
modify the <tt>APP_VERSION</tt> string (see Distribution section below).
</p>
<p>
To merge your <tt>src/</tt> files into a distribution file, see below.
</p>
<p>
h2. Generating test HTML files
</p>
<p>
If you are going to have a <tt>src/some_lib.js</tt> file, then you&#8216;ll
want a unit test file(s). By default you&#8216;d call it
<tt>test/some_lib_test.html</tt>.
</p>
<p>
And then what? Personally, I can never remember what basic HTML +
JavaScript goes in the test HTML files. I quite like the
&quot;javascript_test plugin&quot;:<a
href="http://drnicwilliams.com/2008/01/04/autotesting-javascript-in-rails">drnicwilliams.com/2008/01/04/autotesting-javascript-in-rails</a>/
for &quot;Ruby on Rails&quot;:<a
href="http://www.rubyonrails.org">www.rubyonrails.org</a>/, which allows
you to generate a test HTML stub. So I&#8216;ve included a version of it
here. That is, your JavaScript project comes with a generator to create new
test HTML files, ready to rock and roll.
</p>
<p>
&lt;pre&gt;$ script/generate javascript_test some_lib
</p>
<pre>
  exists  test
  create  test/some_lib_test.html&lt;/pre&gt;
</pre>
<p>
Now edit <tt>test/some_lib_test.html</tt> and follow the comments that tell
you what to do to write your unit tests.
</p>
<p>
Want to name your test file something different? Specify the target library
as an additional parameter.
</p>
<p>
&lt;pre&gt;$ script/generate javascript_test my_library_tests some_lib
</p>
<pre>
  exists  test
  create  test/my_library_tests_test.html&lt;/pre&gt;
</pre>
<p>
h2. Running unit tests
</p>
<p>
Each test HTML file should be self-executable: just open it in a target
browser. That is, to run the <tt>test/some_lib_test.html</tt> tests in
Firefox, open the file in Firefox.
</p>
<p>
It will print out a beautiful log success/error messages for each test.
</p>
<p>
&lt;img src=&quot;images/example-unittest-log.jpg&quot;
width=&quot;647&quot; height=&quot;427&quot; alt=&quot;Example Unittest
Log&quot;&gt;
</p>
<p>
h2. Distribution of library
</p>
<p>
Your project comes with the ability to concatenate all your
<tt>src/*.js</tt> files into a single file for distribution, as
<tt>dist/project_name.js</tt>.
</p>
<p>
First, edit <tt>src/HEADER</tt> with information that will be included at
the top of the generated distribution file.
</p>
<p>
Second, edit <tt>src/project_name.js</tt> to include the names of all the
<tt>src/</tt> files that will be concatenated together in your required
order.
</p>
<p>
Finally, run the command:
</p>
<p>
&lt;pre&gt;rake dist&lt;/pre&gt;
</p>
<p>
h2. Create a website for your project
</p>
<p>
You can quickly create a clean, readable website for your project that
prominently displays the current version number (which is a clickable link
through to the download page), just like this page.
</p>
<p>
&lt;pre&gt;script/generate install_website&lt;/pre&gt;
</p>
<p>
Now edit the generated <tt>website/index.txt</tt> file
(&quot;Textile&quot;:<a
href="http://www.textism.com/tools/textile">www.textism.com/tools/textile</a>/
format).
</p>
<p>
To convert it to HTML, run:
</p>
<p>
&lt;pre&gt;rake website_generate&lt;/pre&gt;
</p>
<p>
And open <tt>website/index.html</tt> in your browser to preview. The
project&#8216;s version number is automatically inserted into the page
(change version numbers via <tt>APP_VERSION</tt> in <tt>Rakefile</tt>).
</p>
<p>
To upload the website (and its CSS etc) run:
</p>
<p>
&lt;pre&gt;rake website&lt;/pre&gt;
</p>
<p>
The default <tt>tasks/website.rake</tt> file pushes the files to a
&quot;rubyforge.org&quot;:<a href="http://rubyforge.org">rubyforge.org</a>
project account. Modify it to rsync files elsewhere.
</p>
<p>
h2. Screencast coming soon
</p>
<p>
A hard-core, &quot;how to do JavaScript unit testing&quot; screencast will
soon be published by &quot;PeepCode&quot;:<a
href="http://peepcode.com">peepcode.com</a>/. It will cost $9 and
you&#8216;ll love every minute of it.
</p>
<p>
Subscribe to PeepCode&#8216;s blog for announcement details.
</p>
<p>
h2. Forum
</p>
<p>
&quot;<a
href="http://groups.google.com/group/javascript-project-generator":http://groups.google.com/group/javascript-project-generator">groups.google.com/group/javascript-project-generator":http://groups.google.com/group/javascript-project-generator</a>
</p>
<p>
h2. How to submit patches
</p>
<p>
Read the &quot;8 steps for fixing other people&#8216;s code&quot;:<a
href="http://drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code">drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code</a>/
and for section &quot;8b: Submit patch to Google Groups&quot;:<a
href="http://drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code/#8b-google-groups">drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code/#8b-google-groups</a>,
use the Google Group above.
</p>
<p>
The source project is a &quot;Git&quot;:<a
href="http://git.or.cz">git.or.cz</a>/ repository. See Dr Nic&#8216;s
&quot;master branch&quot;:<a
href="http://github.com/drnic/newjs/tree/master">github.com/drnic/newjs/tree/master</a>
for clone/checkout details.
</p>
<p>
h2. License
</p>
<p>
This code is free to use under the terms of the MIT license.
</p>
<p>
h2. Contact
</p>
<p>
Comments are welcome. Send an email to &quot;Dr Nic Williams&quot;:<a
href="mailto:drnicwilliams@gmail.com">drnicwilliams@gmail.com</a> via the
&quot;forum&quot;:<a
href="http://groups.google.com/group/javascript-project-generator">groups.google.com/group/javascript-project-generator</a>
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>